<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home Studio Veterinario</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">

    <h1 class="text-center mb-4">Benvenuto nello Studio Veterinario</h1>

    <div th:if="${erroreEmail}" class="alert alert-danger text-center">
        <p th:text="${erroreEmail}"></p>
    </div>
	
	<div th:if="${erroreData}" class="alert alert-danger text-center">
	    <p th:text="${erroreData}"></p>
	</div>
	
	<div th:if="${errorePassword}" class="alert alert-danger text-center">
	    <span th:text="${errorePassword}"></span>
	</div>


    <div class="row justify-content-center mb-5">
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h5 class="card-title">Hai gi√† un account?</h5>
                    <p class="card-text">Accedi all'area personale</p>
                    <a href="/login" class="btn btn-primary w-100">Login</a>
                </div>
            </div>
        </div>
    </div>

    <h2 class="text-center mb-4">Nuovo Cliente? Registrati qui</h2>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-body">
                    <form action="/registrati" method="post">

                        <div class="mb-3">
                            <label class="form-label">Nome</label>
                            <input type="text" name="nome" class="form-control" required >
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Cognome</label>
                            <input type="text" name="cognome" class="form-control" required >
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" name="email" class="form-control" required >
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Telefono</label>
                            <input type="text" name="telefono" pattern="\d{10}" class="form-control" required title="Inserire un numero di telefono di 10 cifre">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Password</label>
                            <input type="password" name="password" pattern=".{6,}" class="form-control" required title="La password deve contenere almeno 6 caratteri">
                        </div>
						
						<div class="mb-3">
						    <label class="form-label">Conferma Password</label>
						    <input type="password" name="confermaPassword" class="form-control" required>
						</div>
						

                        <h4>Dati Animale</h4>

                        <div class="mb-3">
                            <label class="form-label">Nome Animale</label>
                            <input type="text" name="nomeAnimale" class="form-control" required >
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Specie</label>
                            <input type="text" name="specieAnimale" class="form-control" required >
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Razza</label>
                            <input type="text" name="razzaAnimale" class="form-control" required >
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Sesso</label>
                            <select name="sessoAnimale" class="form-select" required>
                                <option value="Maschio">Maschio</option>
                                <option value="Femmina">Femmina</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Data di Nascita</label>
                            <input type="date" name="dataNascitaAnimale" id="dataNascitaAnimale" class="form-control" required >
                        </div>

                        <button type="submit" class="btn btn-success w-100">Registrati</button>

                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
window.onload = function() {
    const oggi = new Date().toISOString().split('T')[0];
    const campoData = document.querySelector('input[name="dataNascitaAnimale"]');
    if (campoData) {
        campoData.setAttribute('max', oggi);
    }
};
</script>

</body>
</html>
